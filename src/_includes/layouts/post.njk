---
layout: layouts/base.njk
---
<progress id="scroll-progress" class="progress progress-secondary w-[102%] left-[-1%] fixed bg-transparent z-50 top-0" value="0" max="100"></progress>
<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
        const scrollProgressElement = document.getElementById('scroll-progress')
        window.addEventListener('scroll', function() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;

            scrollProgressElement.value = (winScroll / height) * 100
        });
    });
</script>
<div class="lg:mx-24 xl:mx-48 p-2 md:p-12">
    <div class="text-center mb-8">
        <h1>{{ title }}</h1>
        <div class="flex flex-row content-center italic text-sm">
           <time class="flex-1 text-right">{{ date | readableDate }}</time>
            <div class="divider divider-horizontal"></div>
            <span class="flex-1 text-left"><i class="ri-hourglass-2-fill mr-1"></i>{{ content | readTime }}</span>
        </div>
        <div class="divider"><i class="ri-pen-nib-line"></i></div>
    </div>
    {% if image.path | length %}
        <div class="md:mx-6 md:float-left md:w-3/12">
            <img alt="{{ image.alt }}" class="border-black border-4" width="100%" src="/img/{{ image.path }}">
            <p class="text-xs text-gray-500 text-center italic">{{ image.caption | safe }}</p>
        </div>
    {% endif %}
    <article>{{ content | safe }}</article>
    <div class="flex">
        <div class="flex-1"></div>
        <div class="flex flex-wrap flex-row">
            {% for tag in labels %}
                <a href="{{ ('/tags/' + tag | lower | slugify) }}">
                    <div class="badge badge-secondary mx-0.5 my-1 p-3">{{ tag | lower }}</div>
                </a>
            {% endfor %}
        </div>
    </div>
    <script type="text/javascript">
        let utterancesReady = false

        addEventListener('message', event => {
            if (event.origin !== 'https://utteranc.es') {
                return;
            }

            utterancesReady = true

            applyUtterancesTheme()
        });

        document.addEventListener('theme-changed', () => {
            if (utterancesReady) {
                applyUtterancesTheme()
            }
        })

        function applyUtterancesTheme() {
            const preferredColourScheme = getPreferredColourScheme()

            const utterancesTheme = preferredColourScheme === 'dark' ? 'dark-blue' : 'boxy-light'

            const message = {
                type: 'set-theme',
                theme: utterancesTheme
            };

            const utterancesIframe = document.getElementsByClassName('utterances-frame')?.[0];
            utterancesIframe.contentWindow.postMessage(message, 'https://utteranc.es');
        }
    </script>
    <div id="comment-container">
        <div class="divider"><i class="ri-question-answer-line"></i></div>
        <span class="text-xl">Comments</span>
        <p>Please feel free to share your thoughts and questions about this post!</p>
        <script src="https://utteranc.es/client.js"
                repo="JamesMcNee/static-blog-site"
                issue-term="pathname"
                theme="preferred-color-scheme"
                crossorigin="anonymous"
                async>
        </script>
    </div>
</div>